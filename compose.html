<!DOCTYPE html>
<html lang="zh">

<head>
    <!-- META -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="我的我">
    <meta name="author" content="Ying Phigow">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1,minimum-scale=1">
    <style type="text/css">
        @charset "UTF-8";[ng\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none
        !important;}ng\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}
    </style>
    <!-- PAGE TITLE -->
    <title>编纂中……</title>
    <!-- BOOTSTRAP CSS -->
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <!-- ALL GOOGLE FONTS -->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" rel="stylesheet">
    <!-- FONT AWESOME CSS -->
    <link rel="stylesheet" href="assets/fonts/font-awesome.min.css">
    <link rel="stylesheet" href="assets/fonts/linear-fonts.css">
    <!-- EMOJI CSS -->
    <link rel="stylesheet" href="assets/css/jquery.emoji.css"/>
    <!-- PAGE CSS -->
    <link rel="stylesheet" href="assets/css/book-page.css">
    <script src="https://code.jquery.com/jquery-git.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.0.272/jspdf.debug.js"></script>
    
    <style type="text/css">
        body {
            text-align: center;
        }

        .photo {
            position: relative;
        }
        .title{
            position: absolute;
            bottom:20px;
            left:0px;
            text-align: center;
            right:0px;
            font-size:24px;
            font-weight: bold;
            color:#979797;
        }
        .photos {
            margin:auto;
            font-size:0px;
        }
        .book-name {
            position: absolute;
            z-index: 1;
            top: 170px;
            right: 15px;
            font-size:55px;
            font-weight: bold;
        }

        .author {
            position:  absolute;
            z-index:  1;
            top: 230px;
            right:  15px;
            font-size: 23px;
            font-style: italic;     
        }
    </style>
    <!--[if IE]>
</head>
<body ng-app="wxbook">
    <ui-view name="main">
    <!---->
        <div class="wrapper preview" ui-view="preview">
            <div id="page" class="A5-1 finalized" ng-class="{error: vm.book.error,editable: vm.book.editable,finalized: vm.book.finalized}" ng-switch="vm.stateParams.section">
                <div class="pages-container" ng-switch-when="cover" auto-resize="" style="transform: scale(0.644643);">
                    <ul class="pages" id="page_lists">
                        <!--封面页-->
                        <li class="page cover swipeout" book="vm.book" parse-emoji=".author, .title">                                    
                            <div class="book-name">{bookName}</div>
                            <div class="author">{author}</div>
                            <cover book="book" pic="book.cover.pic" size="560" editable="book.editable &amp;&amp; book.cover.editable"
                            class="loaded" id="cover" style=''>
                                <ng-transclude>
                                    <!---->
                                </ng-transclude>
                            </cover>
                            <div style="align-text:center; font-size:100px; positon:absolute; top:150px" id="title"></div>

                                        <div class="swipeout-actions-right">
                                            <a href="#" class="swipeout-delete">
                                                Delete
                                            </a>
                                        </div>
                        </li>
                        <!--扉页-->
                        <li class="page first-page" parse-emoji=".author">
                            <div class="author">
                                <span id="para_author">{author}</span><!-- Parameter_Author -->
                                <span>
                                    &middot; 作品
                                </span>
                            </div>
                            <div class="from" id="para_from"><!-- Parameter_StartTime -->
                                2016.07
                            </div>
                            <div class="to" id="para_to"><!-- Parameter_EndTime -->
                                2016.12
                            </div>
                        </li>
                        <!--版权页-->
                        <li class="page authorization" book="vm.book" parse-emoji="">
                            <p>
                                微信书当前版本编目数据
                            </p>
                            <p>
                                伴你成长的岁月 / [我的我]<span id="para_author">{author}</span><!-- Parameter_Author --> 著;
                            </p>
                            <p>
                                我的我&middot;微信书,wodemy.com, 2017.3
                            </p>
                            <p>
                                XINSHU-XXXXX-290450
                            </p>
                            <p>
                                I.①伴你成长的岁月...; II. ① <span id="para_author">{author}</span><!-- Parameter_Author --> ...; III. ①文学随笔，语录-微信书-中国-现代; IV. ①NO.290450
                            </p>
                            <p>
                                我的我&middot;微信书荣誉出版 (2017)290450号
                            </p>
                            <p>
                                著作权归原作者所有
                            </p>
                            <p>
                                All rights reserved under Xinshu and Author <span id="para_author">{author}</span><!-- Parameter_Author --> . This book may not
                                be reproduced or used in any form or by any means without permission of
                                the author.
                            </p>
                            <p>
                                <b>
                                    伴你成长的岁月
                                </b>
                            </p>
                            <p>
                                [我的我] <span id="para_author">{author}</span><!-- Parameter_Author --> 著
                            </p>
                            <table>
                                <tbody>
                                    <tr>
                                        <td>
                                            技　　术
                                        </td>
                                        <td>
                                            我的我
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            发　　行
                                        </td>
                                        <td>
                                            我的我
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            经　　销
                                        </td>
                                        <td>
                                            我的我
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            责任编辑
                                        </td>
                                        <td>
                                            我的我小编
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            装帧设计
                                        </td>
                                        <td>
                                            我的我设计
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            内文制作
                                        </td>
                                        <td>
                                            <span id="para_author">{author}</span><!-- Parameter_Author -->
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            插　　图
                                        </td>
                                        <td>
                                            <span id="para_author">{author}</span><!-- Parameter_Author -->
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            开　　本
                                        </td>
                                        <td>
                                            870mm &times; 1092mm 1/32
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            字　　数
                                        </td>
                                        <td>
                                            很多
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            版　　次
                                        </td>
                                        <td>
                                            2017年第一版，唯一版
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            定　　价
                                        </td>
                                        <td>
                                            无价
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            书　　号
                                        </td>
                                        <td>
                                            290450
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <p>
                                本书版权归<span id="para_author">{author}</span><!-- Parameter_Author -->所有，我的我提供代印刷服务，未经<span id="para_author">{author}</span><!-- Parameter_Author -->许可不得转载、复制、翻印，一切因版权、著作权、肖像权、名誉权、姓名权而引起的法律纠纷由本书制作者承担。
                            </p>
                        </li>
                        <!--感谢-->
                        <li class="page acknowledgement collapse ng-hide" ng-class="{collapse: !_.isString(book.acknowledgement)}"
                        ng-show="book.auth === 'edit' &amp;&amp; !book.finalized || book.acknowledgement"
                        ng-switch="!book.finalized &amp;&amp; book.auth === 'edit'" book="vm.book">
                            <!---->
                            <!---->
                            <div ng-switch-when="false">
                                <p class="content" parse-emoji="">
                                </p>
                            </div>
                            <!---->
                            <div class="title" ng-click="book.acknowledgement = ''">
                                <i class="material-icons">
                                    add
                                </i>
                                增加致谢
                            </div>
                        </li>
                        <!--序-->
                        <li class="page preface" ng-class="{collapse: !_.isString(book.preface)}"
                        ng-show="book.auth === 'edit' &amp;&amp; !book.finalized || book.preface"
                        ng-switch="!book.finalized &amp;&amp; book.auth === 'edit'" book="vm.book">
                            <!---->
                            <!---->
                            <div class="content-container" ng-switch-when="false" parse-emoji="">
                                <p class="content" style="margin-bottom:1.5em">
            人生走过漫长的岁月。
            年轻时如奔腾的雅鲁藏布江，热烈、汹涌，而到了一定年龄，虽然繁花落尽，不再缤纷，却具有了能量，是拥有巨大发电力的长江。岁月带走一些什么，同时赠与我们另外一些。
            一帆风顺还是跌宕起伏，安稳淡泊还是勇闯险滩，在于每个人的选择，正因为这选择不同，人们也有不同的收获。在春天时播下的种子，发芽、开花、结果，给每个人送上的秋天，都理所应当。
            当然也可能发生差错，比如勤奋者空空如也，懒惰者不劳而获，比如兢兢业业却突来横祸，游手好闲却天降横财，逢此变故不要惊慌失措，就算履历表里一无所有，至少你还收获了自我，若干年后回头再看，不必去喃喃自语、涕泪涟涟、懊悔难当。
            经过风浪的折磨，如孤舟穿越峡谷，如猿猴攀上高藤，如飞鸟冲破云霄，你我才能成为远方的自己，这只有一个前提：先去经历岁月的洗礼。

                                </p>
                                <p class="content" style="text-align:right">
                                    我的我 2017年4月13日
                                </p>
                            </div>
                            <!---->
                            <div class="title" ng-click="book.preface = ''">
                                <i class="material-icons">
                                    add
                                </i>
                                增加序言
                            </div>
                        </li>
                        <!--正文-->
                        
                    </ul>

    <a href="pay.html" target="new" class="swipe-out">提交</a>
                </div>
            </div>
        </div>
    </ui-view>
</body>

<script type="text/javascript" src="/assets/js/jquery.min.js"></script>
<script type="text/javascript" src="/assets/js/framework7.min.js"></script>
<script src="/assets/js/jquery-1.10.1.min.js" type="text/javascript" ></script>
<script src="/assets/js/underscore.js" type="text/javascript" ></script>
<script src="/assets/js/jquery.xgallerify.min.js" type="text/javascript"></script>
<!--the js for this plugin-->
<script src="/assets/js/jquery.emoji.min.js"></script>
<script type="text/javascript">
    var gallery = $('.photos').gallerify({
        margin:5,
        mode:'default',
        lastRow:'adjust'
    }); 
</script>
<script type="text/template" id="comment">
    <p>
        <span><%=authorName%>：</span><%=content%>
    </p>
</script>
<script type="text/template" id="page_template">
    <li class="page content row" book="vm.book" page-data="page" parse-emoji=".book-title" ng-repeat="page in vm.book.pages | limitTo: vm.limit track by $index">
        <button title="Close (Esc)" type="button" class="mfp-close" style="display:none; position: absolute;z-index: 1;right: 10px; width:30px; height: 30px; background:url(assets/images/delete.png)"></button>
        <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3">
            <text class="date" id="para_date" style="font-size:80px; color:#309;text-decoration: underline;font-style: italic; position:relative; top:15px"><%=date%></text><!--Parameter_Date-->
            <br style="height:100px">
            <text class="time" id="para_time" fill="#fff" style="font-size:18px;position:relative;top:22px"><%=time%></text><!--Parameter_Time-->
        </div>
        <div class="col-lg-9 col-md-9 col-sm-9 col-xs-9">
            <div id="para_img" class="photos xgallerify"><%=img%></div><!--Parameter_Images-->
            <div id="para_content"><%=content%></div><!--Parameter_Content-->
        </div>
        <footer>
            <hr>
            <div class="pagination"><%=no%></div>
            <div class="book-title"><%=bookName%></div>
            <div class="date"><%=yyyymm%></div>
        </footer>
    </li>
</script>

<script type="text/template" id="images">
    <p>
        <img class="list-img" src=<%=img%> style="width:100%">
    </p>
</script>
<script type="text/template" id="double_images">
    <p class="row">
        <span class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
            <img class="list-img" src=<%=imgA%> style="width:100%">
        </span>
        <span class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
            <img class="list-img" src=<%=imgB%> style="width:100%">
        </span>
    </p>
</script>

<script type="text/template" id="image_template">
    <img src=<%=imgA%> style="width:<%=widthA%>%;margin:2px">
    <img src=<%=imgB%> style="width:<%=widthB%>%;margin:2px">
</script>
<script type="text/template" id="gallerify">
        <img class="list-img" src=<%=img%>>
</script>
<script type="text/template" id="list_template">
<li>
    <div class="po-avt-wrap">
       // <!--img class="po-avt data-avt" src="images/0.jpg"-->
    </div>
    <div class="po-hd">
        <p class="po-name"><span class="data-name"><%=authorName%></span></p>
        <div class="post">
            <p><%=content%></p>
            <p><%=img%></p>                
            </p>
        </div>
        <p class="time"><%=time%></p><img class="c-icon" src="wechat/images/c.png">
    </div>
    <div class="r"></div>
    <div class="cmt-wrap">
        <div class="like"><img src="wechat/images/l.png"><%=likes%></div>
        <div class="cmt-list">
            <%=comments%>
        </div>
    </div>
</li>
</script>
<script type="text/javascript">
function timeStamp2date (time){
        var datetime = new Date();
        datetime.setTime(time);
        var year = datetime.getFullYear();
        var month = datetime.getMonth() + 1;
        var date = datetime.getDate();
        return year + "-" + month + "-" + date;
};
function timeStamp2time (time){
        var datetime = new Date();
        datetime.setTime(time);
        var hour = datetime.getHours();
        var minute = datetime.getMinutes();
        var second = datetime.getSeconds();
        return hour+":"+minute+":"+second;
};
function timeStamp2String (time){
        var datetime = new Date();
         datetime.setTime(time);
         var year = datetime.getFullYear();
         var month = datetime.getMonth() + 1;
         var date = datetime.getDate();
         var hour = datetime.getHours();
         var minute = datetime.getMinutes();
         var second = datetime.getSeconds();
         var mseconds = datetime.getMilliseconds();
         return year + "-" + month + "-" + date+" "+hour+":"+minute+":"+second;
};
if(window.sessionStorage.getItem("UserCode")){
    console.log(window.sessionStorage);
}else{
    window.location="http://120.77.245.158/login";
}
jQuery(document).ready(function() {
        var id = (window.location.hash).split('#')[1];
        var template = _.template($('#list_template').html());
        $.ajax({
                type:       "GET",
                url:        'http://120.77.245.158:8088/api/Book/GetBookInfoById?_Id=' + id,
                dataType:   "json",
                success: function(data) {
                    //console.log(data);
                    $(document).attr("title",data.BookShelf.c_BookName);
                    $("#cover").attr("style","background-image:url(/assets/images/cover/" + data.BookShelf.c_CoverImage+ ")");
                    $(".book-name").html(data.BookShelf.c_BookName);
                    $(".author").html(data.BookShelf.c_Author + "·著");
                    options="";
                    var page=_.template($('#page_template').html());
                    var pages="";
                    for(var i = 0; i < data.bookDataOfPage_List.length; i++){
                        /*赞
                        var likes="";
                        for(var n=0;n < data[i].likes.length; n++){
                            likes += data[i].likes[n].userName + " ";
                        }
                        */
                        /*评论
                        var comment= _.template($('#comment').html());
                        var comments="";                       
                        for(var m=0;m < data[i].comments.length; m++){
                            comments += comment(
                                {
                                    authorName:     data[i].comments[m].authorName,
                                    content:        data[i].comments[m].content
                                });
                        }
                        */
                        $('#para_author*').html(data.BookShelf.c_Author);  
                        $('#para_from').html(data.bookDataOfPage_List[0].c_MessageDate);  
                        $('#para_to').html(data.bookDataOfPage_List[i].c_MessageDate); 
                        $('#cover').html(data.bookDataOfPage_List[i].c_BookName);
                        var Simage=_.template($('#images').html());
                        var Dimage=_.template($('#double_images').html());
                        var Ximage=_.template($('#image_template').html());
                        var images="";
                        /*
                        if(data[i].mediaList.length > 0) {
                            imgsrc = (data[i].mediaList[0].indexOf("qpic.cn/mm")>0?"https://weixinshu.com/images/fetch?url=":"")+data[i].mediaList[0];
                            images = Ximage(
                            {
                                img:        imgsrc
                            });
                        }
                        else{
                            for(var img=0;img < data[i].mediaList.length; img+=2){
                                imgsrcA = (data[i].mediaList[img].indexOf("qpic.cn/mm")>0?"https://weixinshu.com/images/fetch?url=":"")+data[i].mediaList[img];
                                if(img + 2 > data[i].mediaList.length){
                                    imgsrcB="";
                                }
                                else{
                                    imgsrcB =  (data[i].mediaList[img+1].indexOf("qpic.cn/mm")>0?"https://weixinshu.com/images/fetch?url=":"")+data[i].mediaList[img+1]
                                };
                                //console.log(images);
                                images += Dimage(
                                    {
                                        imgA:       imgsrcA,
                                        imgB:       imgsrcB
                                    });
                            }
                        };
                        $('#para_date').html(timeStamp2String(data[i].timestamp*1000).split(" ")[0]);
                        $('#para_time').html(timeStamp2String(data[i].timestamp*1000).split(" ")[1]);
                        $('#para_img').html(images);                        
                        $('#para_content').html(data[i].content);
                        /*整体*/
                        /*
                        pages += page(
                        {
                            date:       timeStamp2date(data[i].timestamp*1000),
                            time:       timeStamp2time(data[i].timestamp*1000),
                            img:        images,
                            content:    data[i].content,
                            no:         i+1
                        })
                        /*
                        options += template(
                        {
                            authorName: data[i].authorName,
                            time:       timeStamp2String(data[i].timestamp*1000),
                            img:        images,
                            //img:        data[i].mediaList[0].indexOf("http://mmsns.qpic.cn/mmsns/")>0?"https://weixinshu.com/images/fetch?url=":""+data[i].mediaList[0],
                            content:    data[i].content,
                            likes:      likes,
                            comments:   comments
                        })
                        */
                    var pages="";
                    var pageNumber =0;
                    for (var i = 0; i < data.bookDataOfPage_List.length; i++) {
                        pageNumber ++;
                        var images="";
                        var imageHeight = 0;
                        for (var j = 0; j < data.bookDataOfPage_List[i].ImgData_List.length; j+=2) {
                            //imgsrc ="";
                            var imgsrc1 = (data.bookDataOfPage_List[i].ImgData_List[j].c_PicUrl.indexOf("qpic.cn/mm")>0?"https://weixinshu.com/images/fetch?url=":"")+data.bookDataOfPage_List[i].ImgData_List[j].c_PicUrl;
                            var w1 = data.bookDataOfPage_List[i].ImgData_List[j].c_Width;
                            var h1 = data.bookDataOfPage_List[i].ImgData_List[j].c_Height;
                            //console.log(h1);
                            if(j+1 < data.bookDataOfPage_List[i].ImgData_List.length){
                                var imgsrc2 = (data.bookDataOfPage_List[i].ImgData_List[j+1].c_PicUrl.indexOf("qpic.cn/mm")>0?"https://weixinshu.com/images/fetch?url=":"")+data.bookDataOfPage_List[i].ImgData_List[j+1].c_PicUrl;
                                var w2 = data.bookDataOfPage_List[i].ImgData_List[j+1].c_Width;
                                var h2 = data.bookDataOfPage_List[i].ImgData_List[j+1].c_Height;
                                widthA = w1 * 85 / (w1 + w2*h1/h2) ;
                                widthB = (w2*h1/h2) * 85 / (w1 + w2*h1/h2) ;
                                imageHeight += h1 * 329.8 / (w1 + w2*h1/h2);
                                if(imageHeight > 650){
                                    pages += page(
                                    {
                                        no:                 pageNumber,
                                        date:               data.bookDataOfPage_List[i].c_MessageDate.split("T")[0].split("-")[2],
                                        time:               data.bookDataOfPage_List[i].c_MessageDate.split("T")[1],
                                        img:                images,
                                        content:            null,
                                        authorName:         data.BookShelf.c_Author,
                                        bookName:           data.BookShelf.c_BookName,
                                        yyyymm:             data.bookDataOfPage_List[i].c_MessageDate.split("T")[0].split("-")[0] + "年" +
data.bookDataOfPage_List[i].c_MessageDate.split("T")[0].split("-")[1] + "月"                                    })
                                    images="";
                                    imageHeight = 0;
                                    pageNumber ++;
                                }
                            }
                            else{
                                imgsrc2 = "#";
                                widthA = 85;
                                widthB = "0%;display:none;height:0";
                                imageHeight += h1 / w1 * 329.8;
                                if(imageHeight > 650){
                                    pages += page(
                                    {
                                        no:                 pageNumber,
                                        date:               data.bookDataOfPage_List[i].c_MessageDate.split("T")[0].split("-")[2],
                                        time:               data.bookDataOfPage_List[i].c_MessageDate.split("T")[1],
                                        img:                images,
                                        content:            null,
                                        authorName:         data.BookShelf.c_Author,
                                        bookName:           data.BookShelf.c_BookName,
                                        yyyymm:             data.bookDataOfPage_List[i].c_MessageDate.split("T")[0].split("-")[0] + "年" +
data.bookDataOfPage_List[i].c_MessageDate.split("T")[0].split("-")[1] + "月" 
                                    })
                                    images="";
                                    imageHeight = 0;
                                    pageNumber ++;
                                }
                            }
                            images+=Ximage(
                            {
                                imgA:            imgsrc1,
                                imgB:            imgsrc2,
                                widthA:          widthA,
                                widthB:          widthB
                            })
                            //console.log(imageHeight);
                        };
                        pages += page(
                        {
                            no:                 pageNumber,
                            date:               data.bookDataOfPage_List[i].c_MessageDate.split("T")[0].split("-")[2],
                            time:               data.bookDataOfPage_List[i].c_MessageDate.split("T")[1],
                            img:                images,
                            content:            data.bookDataOfPage_List[i].c_Content,
                            authorName:         data.BookShelf.c_Author,
                            bookName:           data.BookShelf.c_BookName,
                            yyyymm:             data.bookDataOfPage_List[i].c_MessageDate.split("T")[0].split("-")[0] + "年" +
data.bookDataOfPage_List[i].c_MessageDate.split("T")[0].split("-")[1] + "月" 
                        })
                        if(imageHeight>650){
                        console.log(data.bookDataOfPage_List[i].c_Content)
                        console.log(imageHeight);}
                    };                    
                    //console.log(data.bookDataOfPage_List[i]);
                    }
                    $("#page_lists").append(pages);
                    $("#page_lists").emojiParse(
                    {
                        icons: [{
                            path: "/assets/images/wx/",
                            file: ".png",
                            placeholder: "\\[{alias}]",
                            alias: {
                                0    :  "微笑", 
                                1    :  "撇嘴", 
                                2    :  "色", 
                                3    :  "发呆", 
                                4    :  "得意", 
                                5    :  "流泪", 
                                6    :  "害羞", 
                                7    :  "闭嘴", 
                                8    :  "睡", 
                                9    :  "大哭", 
                                10   :  "尴尬", 
                                11   :  "发怒", 
                                12   :  "调皮", 
                                13   :  "呲牙", 
                                14   :  "惊讶", 
                                15   :  "难过", 
                                16   :  "酷", 
                                17   :  "冷汗", 
                                18   :  "抓狂", 
                                19   :  "吐", 
                                20   :  "偷笑", 
                                21   :  "愉快", 
                                22   :  "白眼", 
                                23   :  "傲慢", 
                                24   :  "饥饿", 
                                25   :  "困", 
                                26   :  "惊恐", 
                                27   :  "流汗", 
                                28   :  "憨笑", 
                                29   :  "悠闲", 
                                30   :  "奋斗", 
                                31   :  "咒骂", 
                                32   :  "疑问", 
                                33   :  "嘘", 
                                34   :  "晕", 
                                35   :  "疯了", 
                                36   :  "哀", 
                                37   :  "骷髅", 
                                38   :  "敲打", 
                                39   :  "再见", 
                                40   :  "擦汗", 
                                41   :  "抠鼻", 
                                42   :  "鼓掌", 
                                43   :  "糗大了",
                                44   :  "坏笑", 
                                45   :  "左哼哼",
                                46   :  "右哼哼",
                                47   :  "哈欠", 
                                48   :  "鄙视", 
                                49   :  "委屈", 
                                50   :  "快哭了",
                                51   :  "阴险", 
                                52   :  "亲亲", 
                                53   :  "吓", 
                                54   :  "可怜", 
                                55   :  "菜刀", 
                                56   :  "西瓜", 
                                57   :  "啤酒", 
                                58   :  "篮球", 
                                59   :  "乒乓", 
                                60   :  "咖啡", 
                                61   :  "饭", 
                                62   :  "猪头", 
                                63   :  "玫瑰", 
                                64   :  "凋谢", 
                                65   :  "嘴唇", 
                                66   :  "爱心", 
                                67   :  "心碎", 
                                68   :  "蛋糕", 
                                69   :  "闪电", 
                                70   :  "炸弹", 
                                71   :  "刀", 
                                72   :  "足球", 
                                73   :  "瓢虫", 
                                74   :  "便便", 
                                75   :  "月亮", 
                                76   :  "太阳", 
                                77   :  "礼物", 
                                78   :  "拥抱", 
                                79   :  "强", 
                                80   :  "弱", 
                                81   :  "握手", 
                                82   :  "胜利", 
                                83   :  "抱拳", 
                                84   :  "勾引", 
                                85   :  "拳头", 
                                86   :  "差劲", 
                                87   :  "爱你", 
                                88   :  "NO", 
                                89   :  "OK", 
                                90   :  "爱情", 
                                91   :  "飞吻", 
                                92   :  "跳跳", 
                                93   :  "发抖", 
                                94   :  "怄火", 
                                95   :  "转圈", 
                                96   :  "磕头", 
                                97   :  "回头", 
                                98   :  "跳绳", 
                                99   :  "投降", 
                                100  :  "激动", 
                                101  :  "乱舞", 
                                102  :  "献吻", 
                                103  :  "左太极",
                                104  :  "右太极"
                            }
                        }]
                    });

                },
                error: function(data) {
                    console.log(data.length);
                }
            }
        )
});

</script>
<script type="text/javascript">
    
    //可以自定义配置参数
var myApp = new Framework7({
    //materialPageLoadDelay:0,   //延迟（在毫秒）之前的动画加载页。可以增加一点来提高性能
    //materialRipple:'true'       //启用/禁用特有的触摸纹波效应
});

// 我们需要使用自定义DOM类库，让我们将它保存到$$变量：
var $$ = Framework7.$;

</script>

    <script type="text/javascript">
    var topdf =function(){
        var pdf = new jsPDF('p','mm','a5');
        pdf.internal.scaleFactor = 1;
        var options = {
             pagesplit: true
        };

        //$('.pdf-wrapper')
        pdf.addHTML(document.body,options,function() {
            pdf.save('web1111.pdf');
        });
    }
    </script>
</html>